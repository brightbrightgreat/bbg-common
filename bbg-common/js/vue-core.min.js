!function(){var appData=document.getElementById("bbg-common-env");appData=appData?JSON.parse(appData.textContent):{};new Vue({el:"#vue-app",data:appData,methods:{onScroll:function(){this.window.scrollDirection=this.window.scrolled<window.scrollY?"down":"up",this.window.scrolled=window.scrollY},onLoad:function(){var vue=this;this.onResize(),this.session.n=Cookies.get("bbg_common_n")||"",this.session.n?setTimeout(function(){vue.heartbeat(vue)},6e5):vue.heartbeat(vue),this.wpClean(),this.fitVids()},onResize:blobThrottle(function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width===this.window.height?this.window.aspect="square":this.window.width>this.window.height?this.window.aspect="landscape":this.window.aspect="portrait",this.onScroll()},100),wpClean:function(){var images=document.querySelectorAll(".t_wysiwyg img:not([data-wpcleaned])");if(images.length)for(var i=0;i<images.length;i++)if(images[i].setAttribute("data-wpcleaned",1),!(images[i].classList.contains("wp-smiley")||images[i].classList.contains("emoji")||images[i].classList.contains("alignleft")||images[i].classList.contains("alignright")||images[i].classList.contains("aligncenter"))){var parent=images[i].parentNode;"PICTURE"===parent.tagName||parent.classList.contains("alignleft")||parent.classList.contains("alignright")||parent.classList.contains("aligncenter")||parent.classList.add("has-img")}var iframes=document.querySelectorAll("iframe:not([data-wpcleaned])");if(iframes.length)for(var j=0;j<iframes.length;j++)iframes[j].setAttribute("data-wpcleaned",1),iframes[j].parentNode.classList.add("has-embed")},fitVids:function(){var iframes=document.querySelectorAll("iframe:not([data-fitvidsed])");if(iframes.length)for(var i=0;i<iframes.length;i++){var parent=iframes[i].parentNode,offset=this.offset(iframes[i]),width=offset.width,padding=100*(offset.height/width)+"%";iframes[i].setAttribute("data-fitvidsed",1),iframes[i].classList.contains("instagram-media")||(iframes[i].style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",parent.style.cssText="position: relative; padding-top:"+padding+";")}}},mounted:function(){if(void 0!==this.session&&!1===this.session.vue){if(this.session.vue=!0,smoothScroll.init({selector:'a[href^="#"]',speed:1e3,offset:170}),window.location.hash)try{var anchor=document.querySelector(window.location.hash);anchor&&smoothScroll.animateScroll(anchor)}catch(Ex){}Element.prototype.isNodeList=function(){return!1},NodeList.prototype.isNodeList=HTMLCollection.prototype.isNodeList=function(){return!0},window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),document.addEventListener("DOMContentLoaded",this.onLoad);var vue=this;document.addEventListener("keyup",function(e){("key"in(e=e||window.event)&&("Escape"===e.key||"Esc"===e.key)||27==e.keyCode)&&(vue.modal="")})}}})}();