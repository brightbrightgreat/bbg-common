new Vue({el:"#vue-app",data:window.bbgEnv||{},methods:{onScroll:function(){this.window.scrollDirection=this.window.scrolled<window.scrollY?"down":"up",this.window.scrolled=window.scrollY},onLoad:function(){var vue=this;this.onResize(),this.session.n=Cookies.get("bbg_common_n")||"",this.session.n?setTimeout(function(){vue.heartbeat(vue)},18e5):vue.heartbeat(vue),this.wpClean()},onResize:blobThrottle(function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight,this.window.width===this.window.height?this.window.aspect="square":this.window.width>this.window.height?this.window.aspect="landscape":this.window.aspect="portrait",this.onScroll()},100),wpClean:function(){document.querySelectorAll(".t_wysiwyg img:not(.wp-smiley):not(.emoji):not(.alignleft):not(.alignright):not(.aligncenter)").forEach(function(v,k){var parent=v.parentNode;parent.classList.contains("alignleft")||parent.classList.contains("alignright")||parent.classList.contains("aligncenter")||"PICTURE"===parent.tagName||parent.classList.add("has-img")});document.querySelectorAll("iframe").forEach(function(v,k){v.parentNode.classList.add("has-embed")})},fitVids:function(scope){document.querySelectorAll("iframe").forEach(function(v,k){var parent,width,padding;parent=v.parentNode,width=scope.offset(v).width,padding=100*(scope.offset(v).height/width)+"%",v.style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",parent.style.cssText="position: relative; padding-top:"+padding+";"})}},mounted:function(){if(void 0!==this.session&&!1===this.session.vue){if(this.session.vue=!0,smoothScroll.init({selector:'a[href^="#"]',speed:1e3,offset:170}),window.location.hash)try{var anchor=document.querySelector(window.location.hash);anchor&&smoothScroll.animateScroll(anchor)}catch(Ex){}Element.prototype.isNodeList=function(){return!1},NodeList.prototype.isNodeList=HTMLCollection.prototype.isNodeList=function(){return!0},window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),document.addEventListener("DOMContentLoaded",this.onLoad),this.fitVids(this);var vue=this;document.addEventListener("keyup",function(e){("key"in(e=e||window.event)&&("Escape"===e.key||"Esc"===e.key)||27==e.keyCode)&&(vue.modal="")})}}});